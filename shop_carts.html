<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/shop_carts.css">
    <link rel="stylesheet" type="text/css" href="css/stylea.css">
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js">
    </script>
</head>
<style>
</style>
<body>
<div class="content-top">
    <div class="head">
        <div class="head_width content-width">
            <ul class="head_width_left">
                <li class="left_list">欢迎来到丹意达商城！</li>
                <li>请<a href="login.html" class="at">登录</a></li>
                <li><a href="register.html">注册</a></li>
            </ul>
            <ul class="head_width_right">
                <li><a href="">我的订单</a></li>
                <li><a href="">丹意服务</a></li>
                <li><a href="">帮助中心</a></li>
                <li><a href="user.html">会员中心</a></li>
                <div style="clear: both;"></div>
            </ul>
            <div style="clear: both;"></div>
        </div>
    </div>
    <div class="nav content-width">
        <div class="nav_left">
            <a href="#" class="logo"><img src="./images/logo_03.png"></a>
            <div class="nav_left_list">
                <p class="nav-title">全部商品名称</p>
                <div class="nav-list" style="display: none;">
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                    <a href="#" class="item">
                        <span class="title">家用仪器</span>
                        <img class="icon" src="images/icon_03.png">
                        <img class="icon icon-act" src="images/icon_01_03.png">
                    </a>
                </div>
            </div>
        </div>
        <div class="nav_center">
            <form class="center_form">
                <input type="text" placeholder="请输入关键词" class="nav_text">
                <button type="submit" value="name" name="搜索" class="nav_submit">搜索</button>
            </form>
            <ul class="center_search">
                <li><a href="#" class="at">养生</a></li>
                <li><a href="#">脱毛</a></li>
                <li><a href="#">减肥</a></li>
                <li><a href="#">祛斑</a></li>
                <li><a href="#">丰胸</a></li>
                <li><a href="#">理疗仪</a></li>
                <li><a href="#">排酸</a></li>
                <div style="clear: both;"></div>
            </ul>
            <ul class="center_column">
                <li><a href="index.html">首页</a></li>
                <li><a href="">家用仪器</a></li>
                <li><a href="shopList.html" class="at">减肥仪器</a></li>
                <li><a href="">养生仪器</a></li>
                <li><a href="">面部仪器</a></li>
                <li><a href="">清洁护理</a></li>
                <div style="clear: both;"></div>
            </ul>
        </div>
        <a href="shop_carts.html" class="nav_right">
            <img src="./images/icon_1_04.png">
            <span class="title">我的购物车</span>
            <span class="number">2</span>
            <div style="clear: both;"></div>
        </a>
        <div style="clear: both;"></div>
    </div>
</div>
<div>
    <div class="shoppingpage content-width">
        <div class="list-box">
            <div class="list fl">
                <p class="title" style="background-color:#525252;">1</p>
                <p class="title-a" style="background-color:#525252;"></p>
                <p class="title-b" style="color:#525252;">我的购物车</p>
            </div>
            <div class="list fl">
                <p class="title">2</p>
                <p class="title-a"></p>
                <p class="title-b">填写核对订单信息</p>
            </div>
            <div class="list fl">
                <p class="title">3</p>
                <p class="title-a"></p>
                <p class="title-b">成功提交订单</p>
            </div>
            <div style="clear: both"></div>
        </div>
        <div class="list-box-a">
            <div class="list-nav">
                <span class="item">商品信息</span>
                <span class="item">单价</span>
                <span class="item">数量</span>
                <span class="item">金额</span>
                <span class="item">操作</span>
            </div>
            <div class="list-box-b">
                    <div class=" list-content">
                        <input type="checkbox" class="fl checked item-a">
                        <img src="images/shop_carts1_03.png" class="fl item-b pictr" alt="">
                        <p class="fl item-c conten">智能减肥甩脂腰带瘦身按摩减肚子仪器抖抖机燃脂收腹健身运动器材</p>
                        <span class="fl item-d price">￥<span class="lol">200.00</span></span>
                        <div class="fl item-e">
                            <span class="icon leftp-a">-</span>
                            <input class="icon-a centerp-b numbera" type="number" value="1"/>
                            <span class="icon rightp-c">+</span>
                        </div>
                        <span class="fl item-f">￥<span class="total"></span></span>
                        <div class="fl item-g">
                            <p>收藏</p>
                            <p class="kss">删除</p>
                        </div>
                        <div style="clear: both"></div>
                    </div>
                </div>
            <div class="list-box-b">
                <div class=" list-content">
                    <input type="checkbox" class="fl checked item-a">
                    <img src="images/14order_03.png" class="fl item-b pictr" alt="">
                    <p class="fl item-c conten">智能减肥甩脂腰带瘦身按摩减肚子仪器抖抖机燃脂收腹健身运动器材</p>
                    <span class="fl item-d price">￥<span class="lol">200.00</span></span>
                    <div class="fl item-e">
                        <span class="icon leftp-a">-</span>
                        <input class="icon-a centerp-b numbera" type="number" value="1"/>
                        <span class="icon rightp-c">+</span>
                    </div>
                    <span class="fl item-f">￥<span class="total"></span></span>
                    <div class="fl item-g">
                        <p>收藏</p>
                        <p class="kss">删除</p>
                    </div>
                    <div style="clear: both"></div>
                </div>
            </div>
            <div class="list-box-b">
                <div class=" list-content">
                    <input type="checkbox" class="fl checked item-a">
                    <img src="images/shop_carts2_03.png" class="fl item-b pictr" alt="">
                    <p class="fl item-c conten">智能减肥甩脂腰带瘦身按摩减肚子仪器抖抖机燃脂收腹健身运动器材</p>
                    <span class="fl item-d price">￥<span class="lol">200.00</span></span>
                    <div class="fl item-e">
                        <span class="icon leftp-a">-</span>
                        <input class="icon-a centerp-b numbera" type="number" value="1"/>
                        <span class="icon rightp-c">+</span>
                    </div>
                    <span class="fl item-f">￥<span class="total"></span></span>
                    <div class="fl item-g">
                        <p>收藏</p>
                        <p class="kss">删除</p>
                    </div>
                    <div style="clear: both"></div>
                </div>
            </div>
            <div class="list-box-b">
                <div class=" list-content">
                    <input type="checkbox" class="fl checked item-a">
                    <img src="images/14order_03.png" class="fl item-b pictr" alt="">
                    <p class="fl item-c conten">智能减肥甩脂腰带瘦身按摩减肚子仪器抖抖机燃脂收腹健身运动器材</p>
                    <span class="fl item-d price">￥<span class="lol">200.00</span></span>
                    <div class="fl item-e">
                        <span class="icon leftp-a">-</span>
                        <input class="icon-a centerp-b numbera" type="number" value="1"/>
                        <span class="icon rightp-c">+</span>
                    </div>
                    <span class="fl item-f">￥<span class="total"></span></span>
                    <div class="fl item-g">
                        <p>收藏</p>
                        <p class="kss">删除</p>
                    </div>
                    <div style="clear: both"></div>
                </div>
            </div>
            <div class="list-box-b">
                <div class=" list-content">
                    <input type="checkbox" class="fl checked item-a">
                    <img src="images/shop_carts1_03.png" class="fl item-b pictr" alt="">
                    <p class="fl item-c conten">智能减肥甩脂腰带瘦身按摩减肚子仪器抖抖机燃脂收腹健身运动器材</p>
                    <span class="fl item-d price">￥<span class="lol">200.00</span></span>
                    <div class="fl item-e">
                        <span class="icon leftp-a">-</span>
                        <input class="icon-a centerp-b numbera" type="number" value="1"/>
                        <span class="icon rightp-c">+</span>
                    </div>
                    <span class="fl item-f">￥<span class="total"></span></span>
                    <div class="fl item-g">
                        <p>收藏</p>
                        <p class="kss">删除</p>
                    </div>
                    <div style="clear: both"></div>
                </div>
            </div>
            <div class="list-box-b">
                <div class=" list-content">
                    <input type="checkbox" class="fl checked item-a">
                    <img src="images/shop_carts2_03.png" class="fl item-b pictr" alt="">
                    <p class="fl item-c conten">智能减肥甩脂腰带瘦身按摩减肚子仪器抖抖机燃脂收腹健身运动器材</p>
                    <span class="fl item-d price">￥<span class="lol">200.00</span></span>
                    <div class="fl item-e">
                        <span class="icon leftp-a">-</span>
                        <input class="icon-a centerp-b numbera" type="number" value="1"/>
                        <span class="icon rightp-c">+</span>
                    </div>
                    <span class="fl item-f">￥<span class="total"></span></span>
                    <div class="fl item-g">
                        <p>收藏</p>
                        <p class="kss">删除</p>
                    </div>
                    <div style="clear: both"></div>
                </div>
            </div>
        </div>
        <div class="klh submit">
            <div class="llk fl list-left">
                <label id="all">
                    <input type="checkbox" class="fl checked-all checked item">
                    <span class="fl item-a">全选</span>
                    <div style="clear: both"></div>
                </label>
            </div>
            <div class="fr list-right">
                <span class="item">总额：</span>
                <span class="item-a totalamount">0</span>
                <span class="title">
						<a href="" class="icon settlement">立即结算</a>
					</span>
            </div>
            <div style="clear: both"></div>
        </div>
    </div>
</div>
<div class="bottomnav">
    <ul>
        <li>
            <img src="images/picture_90_19.png">
            <p>正品保障</p>
        </li>
        <li>
            <img src="images/picture_91_11.png">
            <p>售后反馈</p>
        </li>
        <li>
            <img src="images/picture_92_13.png">
            <p>准时送达</p>
        </li>
        <li>
            <img src="images/picture_93_11.png">
            <p>安全快捷</p>
        </li>
    </ul>
</div>
<div style="clear: both;"></div>
<div class="bottomnav-a">
    <div class="bottomnav-box">
        <div class="font">
            <ul>
                <li>新手指南</li>
                <li><a href="">丹意达会员使用说明</a></li>
                <li><a href="">购物卷使用说明</a></li>
                <li><a href="">购物流程</a></li>
                <li><a href="">客户注册</a></li>
            </ul>
        </div>
        <div class="font">
            <ul>
                <li>支付说明</li>
                <li><a href="">优惠劵使用说明</a></li>
                <li><a href="">常见支付问题</a></li>
                <li><a href="">支付方式</a></li>
                <li><a href="">预存款支付</a></li>
            </ul>
        </div>
        <div class="font">
            <ul>
                <li>配送问题</li>
                <li><a href="">常见配送问题</a></li>
                <li><a href="">配送范围</a></li>
                <li><a href="">运送方式及运费</a></li>
                <li><a href="">商品验货及签收</a></li>
            </ul>
        </div>
        <div class="font">
            <ul>
                <li>售后服务</li>
                <li><a href="">退款说明</a></li>
                <li><a href="">办理退换货</a></li>
                <li><a href="">退换货政策</a></li>
                <li><a href="">放心消费</a></li>
            </ul>
        </div>
        <div class="font">
            <ul>
                <li>关于我们</li>
                <li><a href="">了解我们</a></li>
                <li><a href="">联系我们</a></li>
                <li><a href="">招聘英才</a></li>
            </ul>
        </div>
        <div class="font-right">
            <ul>
                <li>服务热线：（8：00~21: 00）</li>
                <li>400-123-2333</li>
                <li>服务邮箱</li>
                <li>zz8910427@163.com</li>
            </ul>
        </div>
        <div style="clear: both;"></div>
    </div>
</div>
<div class="bottomnav-b">
    <ul class="bottomnav-list">
        <li class="list">
            <img src="images/picture_94_15.png">
            <p>经营性网络备案信息</p>
        </li>
        <li class="list">
            <img src="images/picture_95_17.png">
        </li>
        <li class="list">
            <img src="images/picture_96_19.png">
            <p>诚信网站</p>
        </li>
        <li class="list">
            <img src="images/picture_97_11.png">
            <p>中国互联网举报中心</p>
        </li>
        <li class="list"><img src="images/picture_98_11.png">
            <p>网络警察提醒您</p>
        </li>
        <div style="clear: both;"></div>
        <p class="list-p">Copyright © 2017 丹意达商城 版权所有</p>
    </ul>
</div>
<script>
    var pictr = document.getElementsByClassName('pictr');
    function tr() {
        var d = document.getElementsByClassName('list-content');
        return d
    }
    var conten = document.getElementsByClassName('conten');
    var price = document.getElementsByClassName('lol');
    var numbe = document.getElementsByClassName('numbera');
    var total = document.getElementsByClassName('total');
    var settlement = document.getElementsByClassName('settlement');
    var arr = [];
    settlement[0].onclick = function () {
        for (var i = 0; i < tr().length; i++) {
            if (tr()[i].getElementsByTagName('input')[0].checked) {
                arr.push({
                    picture: pictr[i].src,
                    centent: conten[i].innerText,
                    number: price[i].innerText,
                    sl: numbe[i].value,
                    je: total[i].innerText = parseFloat(price[i].innerText) * parseInt(numbe[i].value)
                })
            }
        }
        if (arr.length > 0) {
            settlement[0].href = "confirm_order.html"
        } else {
            alert('至少勾选一件')
        }
        localStorage.setItem('weekDay', JSON.stringify(arr));
    }
    var plus = document.getElementsByClassName('rightp-c');
    var plub = document.getElementsByClassName('leftp-a');
    var check = document.getElementsByClassName('checked');
    var totalamount = document.getElementsByClassName('totalamount');
    var all = document.getElementsByClassName('checked-all');
    var sc = document.getElementsByClassName('kss');
    function listboxb() {
        var d = document.getElementById('lkk');
        return d
    }
    //计算金额
    function totalprice() {
        for (var i = 0; i < tr().length; i++) {
            var dj = parseFloat(price[i].innerText);
            var sl = parseInt(numbe[i].value);
            total[i].innerText = dj * sl;
        }
    }
    totalprice();
    //计算总额
    function ze() {
        var numbe = 0;
        for (var i = 0; i < tr().length; i++) {

            if (tr()[i].getElementsByTagName('input')[0].checked) {
                numbe += parseInt(tr()[i].getElementsByClassName('total')[0].innerText);
            }
            totalamount[0].innerText = numbe;
        }
    }
    //加加
    function addVal() {
        for (var i = 0; i < tr().length; i++) {
            plus[i].index = i;
            plus[i].onclick = function () {
                var plu = plus[this.index].previousElementSibling;
                if (plu.value > 9) {
                    alert('你已经超出了可购物数量')
                } else {
                    plu.value++;
                    totalprice();
                }
                ze()
            }
        }
    }
    addVal()
    //减减
    function reduce() {
        for (var i = 0; i < tr().length; i++) {
            plub[i].index = i;
            plub[i].onclick = function () {
                var plu = plub[this.index].nextElementSibling;
                if (plu.value < 2) {
                    alert('最少购买一件')
                } else {
                    plu.value--;
                    totalprice();
                }
                ze()
            }
        }
    }
    reduce()
    //选中复选框
    for (var i = 0; i < check.length; i++) {
        check[i].onclick = function () {
            ze();
        }
    }
    //全选
    for (var i = 0; i < check.length; i++) {
        check[i].onclick = function () {
            if (this.className.indexOf('checked-all') >= 0) {
                for (var j = 0; j < check.length; j++) {
                    check[j].checked = this.checked;
                }
            }
            if (!this.checked) {
                // for (var i = 0; i < all.length; i++) {   //多个要循环
                //     console.log(i);
                all[0].checked = false;
                // }
            }
            var k = 0;
            for (var j = 0; j < check.length; j++) {
                if (check[j].className.indexOf('checked-all') < 0 && check[j].checked) {
                    k++;
                }
                if (k == tr().length) {
                    all[0].checked = true;
                }
            }
            ze();
        }
    }
    //删除
    function deleteF() {
        for (var i = 0; i < tr().length; i++) {
            sc[i].index = i
            sc[i].onclick = function () {
                console.log(this.index, listboxb())
                listboxb().removeChild(listboxb().getElementsByClassName('list-box-b')[this.index]);
                addVal()
                reduce()
                deleteF()
                ze();
            }
        }
    }
    deleteF()
</script>
</body>
</html>